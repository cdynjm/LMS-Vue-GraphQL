import{_ as ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-DlyMJ9nm.js";import{d as ne,c as d,o as u,a as l,u as e,m as re,w as o,b as t,g as K,e as a,t as n,n as Y,F as G,i as oe,j as ue}from"./app-CXlzA5kV.js";import{_ as H,a as I,b as de,d as J,c as pe}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bc2xoJPo.js";import{_ as fe,C as W,a as ce}from"./SkeletonBox.vue_vue_type_script_setup_true_lang-CrG1IqCk.js";import{_ as xe}from"./index-DaYlCGe-.js";import{u as me,a as ve,C as X}from"./Skeleton.vue_vue_type_script_setup_true_lang-Bl6RXVWw.js";import{C as Z,U as ge,F as we,a as p,b as ee}from"./users-round-BDjpvXE_.js";import"./NavFooter.vue_vue_type_script_setup_true_lang-qn8t2QrD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-sWiC7RQ7.js";const _e={class:"p-4 space-y-6"},Fe={class:"mt-6"},ye={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},he={key:0},be={key:1},De={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Se={key:0},Ce={key:1},Re={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},$e={class:"font-bold"},ke={class:"mb-6"},Pe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ae={class:"text-[13px] text-gray-500 ml-10"},Ne={class:"flex items-center gap-2 mb-1"},Ve={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-3 mt-6"},qe={class:"text-gray-500 text-[13px]"},Be={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Te={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Le={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Oe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ue={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ee={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},je={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Me={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Qe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},ze=["href"];function f(x){return`${new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`}const it=ne({__name:"View-File",props:{id:{}},setup(x){const m=x;me();const v=[{title:"View File",href:"/user/view-file/"+m.id}],te=async()=>(await ue.post("/graphql",{query:`
    query ($id: String!) {
        userviewFile(id: $id) {
            file {
                municipalStatus
                provincialStatus
                title
                firstReadingDate
                secondReadingDate
                thirdReadingDate
                ordinanceNumber
                finalTitle
                enactmentDate
                lceapprovalDate
                transmittalDate
                spslapprovalDate
                postStatus
                publishStatus
                file
                author {
                    name
                }
                coAuthors {
                    official {
                        name
                    }
                }
                category {
                    category
                }
            }
        }
    }
  `,variables:{id:m.id}})).data.data,{data:i,isPending:Ke,isFetching:se,isLoading:Ye}=ve({queryKey:["userfetchViewedFile"],queryFn:te});return(ie,s)=>(u(),d(G,null,[l(e(re),{title:"View File"}),l(ae,{breadcrumbs:v},{default:o(()=>[t("div",_e,[e(se)?(u(),K(e(H),{key:0,class:"w-full shadow-none outline-none"},{default:o(()=>[l(e(I),null,{default:o(()=>[l(fe)]),_:1})]),_:1})):(u(),K(e(H),{key:1,class:"w-full shadow-none outline-none"},{default:o(()=>[l(e(I),null,{default:o(()=>[l(e(de),null,{default:o(()=>{var r,c;return[s[0]||(s[0]=t("span",{class:"text-[13px] mr-2"},"Ordinance Number: ",-1)),a(n(((r=e(i))==null?void 0:r.userviewFile.file.ordinanceNumber)!=null?(c=e(i))==null?void 0:c.userviewFile.file.ordinanceNumber:"--"),1)]}),_:1}),l(e(J),{class:"mt-2"},{default:o(()=>{var r;return[a(n((r=e(i))==null?void 0:r.userviewFile.file.title),1)]}),_:1}),l(e(J),{class:"font-bold text-blue-500"},{default:o(()=>{var r;return[a(n((r=e(i))==null?void 0:r.userviewFile.file.category.category),1)]}),_:1})]),_:1}),l(e(pe),null,{default:o(()=>{var r,c,g,w,_,F,y,h,b,D,S,C,R,$,k,P,A,N,V,q,B,T,L,O,U,E,j,M,Q,z;return[s[17]||(s[17]=t("hr",null,null,-1)),t("div",Fe,[t("div",ye,[((r=e(i))==null?void 0:r.userviewFile.file.municipalStatus)==1?(u(),d("div",he,[l(e(X),{class:"w-5 h-5 text-red-500"})])):(u(),d("div",be,[l(e(W),{class:"w-5 h-5 text-green-500"})])),s[1]||(s[1]=a(" Municipal Status: ")),t("span",{class:Y(((c=e(i))==null?void 0:c.userviewFile.file.municipalStatus)==1?"text-red-500":"text-green-500")},n(((g=e(i))==null?void 0:g.userviewFile.file.municipalStatus)==1?"Draft Ordinance":"Approved Ordinance"),3)]),t("div",De,[((w=e(i))==null?void 0:w.userviewFile.file.provincialStatus)==null||((_=e(i))==null?void 0:_.userviewFile.file.provincialStatus)==1?(u(),d("div",Se,[l(e(X),{class:"w-5 h-5 text-red-500"})])):(u(),d("div",Ce,[l(e(W),{class:"w-5 h-5 text-green-500"})])),s[2]||(s[2]=a(" Provincial Status: ")),t("span",{class:Y([((F=e(i))==null?void 0:F.userviewFile.file.provincialStatus)==1?"text-red-500":((y=e(i))==null?void 0:y.userviewFile.file.provincialStatus)==2?"text-green-500":"text-gray-500"])},n(((h=e(i))==null?void 0:h.userviewFile.file.provincialStatus)==1?"Disapproved":((b=e(i))==null?void 0:b.userviewFile.file.provincialStatus)==2?"Approved Ordinance":"No Status Yet"),3)]),t("div",Re,[t("div",null,[l(e(Z),{class:"w-5 h-5 text-blue-500"})]),s[3]||(s[3]=a(" Author: ")),t("span",$e,n((D=e(i))==null?void 0:D.userviewFile.file.author.name),1)]),t("div",ke,[t("div",Pe,[t("div",null,[l(e(ge),{class:"w-5 h-5 text-blue-500"})]),s[4]||(s[4]=a(" Co-Authors: ")),t("span",null,n(((S=e(i))==null?void 0:S.userviewFile.file.coAuthors)==""?"None":""),1)]),(u(!0),d(G,null,oe((C=e(i))==null?void 0:C.userviewFile.file.coAuthors,(le,Ge)=>(u(),d("div",Ae,[t("div",Ne,[l(e(Z),{class:"w-4 h-4"}),a(" "+n(le.official.name),1)])]))),256))]),s[15]||(s[15]=t("hr",null,null,-1)),t("div",Ve,[t("div",null,[l(e(we),{class:"w-5 h-5 text-green-500"})]),s[5]||(s[5]=a(" Final Title: "))]),t("div",qe,n(((R=e(i))==null?void 0:R.userviewFile.file.finalTitle)!=null?($=e(i))==null?void 0:$.userviewFile.file.finalTitle:"-"),1),s[16]||(s[16]=t("hr",{class:"my-4"},null,-1)),t("div",Be,[t("div",null,[l(e(p),{class:"w-5 h-5 text-green-500"})]),s[6]||(s[6]=a(" 1st Reading: ")),t("span",null,n(((k=e(i))==null?void 0:k.userviewFile.file.firstReadingDate)!=null?f((P=e(i))==null?void 0:P.userviewFile.file.firstReadingDate):"-"),1)]),t("div",Te,[t("div",null,[l(e(p),{class:"w-5 h-5 text-green-500"})]),s[7]||(s[7]=a(" 2nd Reading: ")),t("span",null,n(((A=e(i))==null?void 0:A.userviewFile.file.secondReadingDate)!=null?f((N=e(i))==null?void 0:N.userviewFile.file.secondReadingDate):"-"),1)]),t("div",Le,[t("div",null,[l(e(p),{class:"w-5 h-5 text-green-500"})]),s[8]||(s[8]=a(" 3rd Reading: ")),t("span",null,n(((V=e(i))==null?void 0:V.userviewFile.file.thirdReadingDate)!=null?f((q=e(i))==null?void 0:q.userviewFile.file.thirdReadingDate):"-"),1)]),t("div",Oe,[t("div",null,[l(e(p),{class:"w-5 h-5 text-green-500"})]),s[9]||(s[9]=a(" Enactment: ")),t("span",null,n(((B=e(i))==null?void 0:B.userviewFile.file.enactmentDate)!=null?f((T=e(i))==null?void 0:T.userviewFile.file.enactmentDate):"-"),1)]),t("div",Ue,[t("div",null,[l(e(p),{class:"w-5 h-5 text-green-500"})]),s[10]||(s[10]=a(" LCE Approval: ")),t("span",null,n(((L=e(i))==null?void 0:L.userviewFile.file.lceapprovalDate)!=null?f((O=e(i))==null?void 0:O.userviewFile.file.lceapprovalDate):"-"),1)]),t("div",Ee,[t("div",null,[l(e(p),{class:"w-5 h-5 text-green-500"})]),s[11]||(s[11]=a(" Transmittal: ")),t("span",null,n(((U=e(i))==null?void 0:U.userviewFile.file.transmittalDate)!=null?f((E=e(i))==null?void 0:E.userviewFile.file.transmittalDate):"-"),1)]),t("div",je,[t("div",null,[l(e(p),{class:"w-5 h-5 text-green-500"})]),s[12]||(s[12]=a(" SPSL Approval: ")),t("span",null,n(((j=e(i))==null?void 0:j.userviewFile.file.spslapprovalDate)!=null?f((M=e(i))==null?void 0:M.userviewFile.file.spslapprovalDate):"-"),1)]),t("div",Me,[t("div",null,[l(e(ee),{class:"w-5 h-5 text-green-500"})]),s[13]||(s[13]=a(" Post Status: ")),t("span",null,n(((Q=e(i))==null?void 0:Q.userviewFile.file.postStatus)==1?"Posted":"-"),1)]),t("div",Qe,[t("div",null,[l(e(ee),{class:"w-5 h-5 text-green-500"})]),s[14]||(s[14]=a(" Publish Status: ")),t("span",null,n(((z=e(i))==null?void 0:z.userviewFile.file.publishStatus)==1?"Published":"-"),1)])])]}),_:1}),l(e(ce),{class:"flex justify-between px-6 pb-6"},{default:o(()=>[l(e(xe),{class:"text-[12px]"},{default:o(()=>{var r;return[t("a",{href:`/storage/files/${(r=e(i))==null?void 0:r.userviewFile.file.file}`,target:"_blank"},"Open PDF File",8,ze)]}),_:1})]),_:1})]),_:1}))])]),_:1})],64))}});export{it as default};
