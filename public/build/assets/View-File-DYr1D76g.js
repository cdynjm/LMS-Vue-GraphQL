import{_ as ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-DE7cgF8p.js";import{d as ee,c,o as d,n as y,u as e,y as ne,a as s,m as re,w as o,b as t,g as oe,h as de,e as a,t as n,F as K,i as ce,j as pe}from"./app-DHsF0IA1.js";import{_ as ue,a as fe,b as me}from"./CardHeader.vue_vue_type_script_setup_true_lang-7CjFi8kj.js";import{_ as Y}from"./CardDescription.vue_vue_type_script_setup_true_lang-LeCyahDZ.js";import{c as f,a as xe,_ as ve}from"./index-6cUSjxrQ.js";import{_ as ge}from"./CardTitle.vue_vue_type_script_setup_true_lang-DPCluM04.js";import{u as ye,a as he}from"./useQuery-Necv2RVO.js";import{C as G}from"./circle-minus-Dxbi3F9c.js";import"./NavFooter.vue_vue_type_script_setup_true_lang-BBl_mVvc.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BFOrUi-q.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=f("Calendar1Icon",[["path",{d:"M11 14h1v4",key:"fy54vd"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=f("CircleCheckBigIcon",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=f("CircleUserRoundIcon",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=f("FileBoxIcon",[["path",{d:"M14.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"16lz6z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 13.1a2 2 0 0 0-1 1.76v3.24a2 2 0 0 0 .97 1.78L6 21.7a2 2 0 0 0 2.03.01L11 19.9a2 2 0 0 0 1-1.76V14.9a2 2 0 0 0-.97-1.78L8 11.3a2 2 0 0 0-2.03-.01Z",key:"99pj1s"}],["path",{d:"M7 17v5",key:"1yj1jh"}],["path",{d:"M11.7 14.2 7 17l-4.7-2.8",key:"1yk8tc"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=f("FileCheckIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=f("UsersRoundIcon",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),Fe=ee({__name:"CardFooter",props:{class:{}},setup(m){const x=m;return(g,h)=>(d(),c("div",{"data-slot":"card-footer",class:y(e(xe)("flex items-center px-6 [.border-t]:pt-6",x.class))},[ne(g.$slots,"default")],2))}}),be={class:"p-6 space-y-6"},ke={class:"mt-6"},De={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Se={key:0},Ce={key:1},Me={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Re={key:0},$e={key:1},Ve={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},qe={class:"font-bold"},Ae={class:"mb-6"},Le={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ne={class:"text-[13px] text-gray-500 ml-10"},Pe={class:"flex items-center gap-2 mb-1"},Be={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-3 mt-6"},Ie={class:"text-gray-500 text-[13px]"},Te={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},je={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},ze={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Oe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ue={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ee={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},He={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Qe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ze={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ke=["href"];function u(m){return`${new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`}const rt=ee({__name:"View-File",props:{id:{}},setup(m){const x=m;ye();const g=[{title:"View File",href:"/admin/view-file/"+x.id}],h=async()=>(await pe.post("/graphql",{query:`
    query ($id: String!) {
        viewFile(id: $id) {
            file {
                municipalStatus
                provincialStatus
                title
                firstReadingDate
                secondReadingDate
                thirdReadingDate
                ordinanceNumber
                finalTitle
                enactmentDate
                lceapprovalDate
                transmittalDate
                spslapprovalDate
                postStatus
                publishStatus
                file
                author {
                    name
                }
                coAuthors {
                    official {
                        name
                    }
                }
                category {
                    category
                }
            }
        }
    }
  `,variables:{id:x.id}})).data.data,{data:l,isPending:Ye,isFetching:te,isLoading:ie}=he({queryKey:["fetchViewedFile"],queryFn:h});return(le,i)=>(d(),c(K,null,[s(e(re),{title:"View File"}),s(ae,{breadcrumbs:g},{default:o(()=>[t("div",be,[!e(ie)&&!e(te)?(d(),oe(e(ue),{key:0,class:"w-full shadow-none outline-none"},{default:o(()=>[s(e(fe),null,{default:o(()=>[s(e(ge),null,{default:o(()=>{var r,v;return[i[0]||(i[0]=t("span",{class:"text-[13px] mr-2"},"Ordinance Number: ",-1)),a(n(((r=e(l))==null?void 0:r.viewFile.file.ordinanceNumber)!=null?(v=e(l))==null?void 0:v.viewFile.file.ordinanceNumber:"--"),1)]}),_:1}),s(e(Y),{class:"mt-2"},{default:o(()=>{var r;return[a(n((r=e(l))==null?void 0:r.viewFile.file.title),1)]}),_:1}),s(e(Y),{class:"font-bold text-blue-500"},{default:o(()=>{var r;return[a(n((r=e(l))==null?void 0:r.viewFile.file.category.category),1)]}),_:1})]),_:1}),s(e(me),null,{default:o(()=>{var r,v,w,_,F,b,k,D,S,C,M,R,$,V,q,A,L,N,P,B,I,T,j,z,O,U,E,H,Q,Z;return[i[17]||(i[17]=t("hr",null,null,-1)),t("div",ke,[t("div",De,[((r=e(l))==null?void 0:r.viewFile.file.municipalStatus)==1?(d(),c("div",Se,[s(e(G),{class:"w-5 h-5 text-red-500"})])):(d(),c("div",Ce,[s(e(J),{class:"w-5 h-5 text-green-500"})])),i[1]||(i[1]=a(" Municipal Status: ")),t("span",{class:y(((v=e(l))==null?void 0:v.viewFile.file.municipalStatus)==1?"text-red-500":"text-green-500")},n(((w=e(l))==null?void 0:w.viewFile.file.municipalStatus)==1?"Draft Ordinance":"Approved Ordinance"),3)]),t("div",Me,[((_=e(l))==null?void 0:_.viewFile.file.provincialStatus)==null||((F=e(l))==null?void 0:F.viewFile.file.provincialStatus)==1?(d(),c("div",Re,[s(e(G),{class:"w-5 h-5 text-red-500"})])):(d(),c("div",$e,[s(e(J),{class:"w-5 h-5 text-green-500"})])),i[2]||(i[2]=a(" Provincial Status: ")),t("span",{class:y([((b=e(l))==null?void 0:b.viewFile.file.provincialStatus)==1?"text-red-500":((k=e(l))==null?void 0:k.viewFile.file.provincialStatus)==2?"text-green-500":"text-gray-500"])},n(((D=e(l))==null?void 0:D.viewFile.file.provincialStatus)==1?"Disapproved":((S=e(l))==null?void 0:S.viewFile.file.provincialStatus)==2?"Approved Ordinance":"No Status Yet"),3)]),t("div",Ve,[t("div",null,[s(e(W),{class:"w-5 h-5 text-blue-500"})]),i[3]||(i[3]=a(" Author: ")),t("span",qe,n((C=e(l))==null?void 0:C.viewFile.file.author.name),1)]),t("div",Ae,[t("div",Le,[t("div",null,[s(e(_e),{class:"w-5 h-5 text-blue-500"})]),i[4]||(i[4]=a(" Co-Authors: ")),t("span",null,n(((M=e(l))==null?void 0:M.viewFile.file.coAuthors)==""?"None":""),1)]),(d(!0),c(K,null,ce((R=e(l))==null?void 0:R.viewFile.file.coAuthors,(se,Ge)=>(d(),c("div",Ne,[t("div",Pe,[s(e(W),{class:"w-4 h-4"}),a(" "+n(se.official.name),1)])]))),256))]),i[15]||(i[15]=t("hr",null,null,-1)),t("div",Be,[t("div",null,[s(e(we),{class:"w-5 h-5 text-green-500"})]),i[5]||(i[5]=a(" Final Title: "))]),t("div",Ie,n((($=e(l))==null?void 0:$.viewFile.file.finalTitle)!=null?(V=e(l))==null?void 0:V.viewFile.file.finalTitle:"-"),1),i[16]||(i[16]=t("hr",{class:"my-4"},null,-1)),t("div",Te,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[6]||(i[6]=a(" 1st Reading: ")),t("span",null,n(((q=e(l))==null?void 0:q.viewFile.file.firstReadingDate)!=null?u((A=e(l))==null?void 0:A.viewFile.file.firstReadingDate):"-"),1)]),t("div",je,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[7]||(i[7]=a(" 2nd Reading: ")),t("span",null,n(((L=e(l))==null?void 0:L.viewFile.file.secondReadingDate)!=null?u((N=e(l))==null?void 0:N.viewFile.file.secondReadingDate):"-"),1)]),t("div",ze,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[8]||(i[8]=a(" 3rd Reading: ")),t("span",null,n(((P=e(l))==null?void 0:P.viewFile.file.thirdReadingDate)!=null?u((B=e(l))==null?void 0:B.viewFile.file.thirdReadingDate):"-"),1)]),t("div",Oe,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[9]||(i[9]=a(" Enactment: ")),t("span",null,n(((I=e(l))==null?void 0:I.viewFile.file.enactmentDate)!=null?u((T=e(l))==null?void 0:T.viewFile.file.enactmentDate):"-"),1)]),t("div",Ue,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[10]||(i[10]=a(" LCE Approval: ")),t("span",null,n(((j=e(l))==null?void 0:j.viewFile.file.lceapprovalDate)!=null?u((z=e(l))==null?void 0:z.viewFile.file.lceapprovalDate):"-"),1)]),t("div",Ee,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[11]||(i[11]=a(" Transmittal: ")),t("span",null,n(((O=e(l))==null?void 0:O.viewFile.file.transmittalDate)!=null?u((U=e(l))==null?void 0:U.viewFile.file.transmittalDate):"-"),1)]),t("div",He,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[12]||(i[12]=a(" SPSL Approval: ")),t("span",null,n(((E=e(l))==null?void 0:E.viewFile.file.spslapprovalDate)!=null?u((H=e(l))==null?void 0:H.viewFile.file.spslapprovalDate):"-"),1)]),t("div",Qe,[t("div",null,[s(e(X),{class:"w-5 h-5 text-green-500"})]),i[13]||(i[13]=a(" Post Status: ")),t("span",null,n(((Q=e(l))==null?void 0:Q.viewFile.file.postStatus)==1?"Posted":"-"),1)]),t("div",Ze,[t("div",null,[s(e(X),{class:"w-5 h-5 text-green-500"})]),i[14]||(i[14]=a(" Publish Status: ")),t("span",null,n(((Z=e(l))==null?void 0:Z.viewFile.file.publishStatus)==1?"Published":"-"),1)])])]}),_:1}),s(e(Fe),{class:"flex justify-between px-6 pb-6"},{default:o(()=>[s(e(ve),{class:"text-[12px]"},{default:o(()=>{var r;return[t("a",{href:`/storage/files/${(r=e(l))==null?void 0:r.viewFile.file.file}`,target:"_blank"},"Open PDF File",8,Ke)]}),_:1})]),_:1})]),_:1})):de("",!0)])]),_:1})],64))}});export{rt as default};
