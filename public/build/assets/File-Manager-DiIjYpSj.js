import{F as v,_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-dqe_YIKF.js";import{d as q,c as F,o as i,a as t,u as e,m as L,w as s,b as l,g as _,e as w,F as $,i as N,t as u,W as S,j as B}from"./app-B1wYHys8.js";import{_ as M,a as T,b as d,c,d as j,e as n,f as P}from"./Skeleton.vue_vue_type_script_setup_true_lang-BT3JAgY4.js";import{u as V,a as Q,C as U}from"./Skeleton.vue_vue_type_script_setup_true_lang-DFYDqr58.js";import"./index-DZEPmnre.js";import"./NavFooter.vue_vue_type_script_setup_true_lang-B80LdtZ9.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CDIs3UvA.js";const W={class:"p-6 space-y-6"},E={class:"text-center text-red-500 flex items-center justify-center"},I=["onClick"],K={class:"flex items-center space-x-3"},z={class:"font-medium"};function A(p){const o=new Date(p),f=o.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),g=o.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return`${f} | ${g}`}const te=q({__name:"File-Manager",setup(p){V();const o=[{title:"File Manager",href:"/user/file-manager"}],f=async()=>(await B.post("/graphql",{query:`
    query {
      usercategories {
        categoriesList {
            encrypted_id
            category
            parentID
            created_at
            totalFiles
        }
      }
    }
  `})).data.data,{isPending:g,error:G,data:y,isFetching:k}=Q({queryKey:["fetchCategories"],queryFn:f});function h(m,a={}){S.get(route(m,a))}return(m,a)=>(i(),F($,null,[t(e(L),{title:"File Manager"}),t(D,{breadcrumbs:o},{default:s(()=>[l("div",W,[a[5]||(a[5]=l("div",{class:"flex w-full justify-between items-center"},[l("h6",{class:"flex-1 text-md font-bold"},"Categories")],-1)),t(e(M),null,{default:s(()=>[t(e(T),null,{default:s(()=>[t(e(d),null,{default:s(()=>[t(e(c),{class:"w-[50px]"},{default:s(()=>a[0]||(a[0]=[l("small",null,"#",-1)])),_:1}),t(e(c),{class:"w-[300px]"},{default:s(()=>a[1]||(a[1]=[l("small",null,"Category",-1)])),_:1}),t(e(c),null,{default:s(()=>a[2]||(a[2]=[l("small",null,"No. of Files",-1)])),_:1}),t(e(c),null,{default:s(()=>a[3]||(a[3]=[l("small",null,"Creation Date",-1)])),_:1})]),_:1})]),_:1}),t(e(j),null,{default:s(()=>{var x,C;return[e(k)?(i(),_(e(d),{key:0},{default:s(()=>[t(e(n),{colspan:"10",class:"text-center"},{default:s(()=>[t(P)]),_:1})]),_:1})):((x=e(y))==null?void 0:x.usercategories.categoriesList.length)==0?(i(),_(e(d),{key:1},{default:s(()=>[t(e(n),{colspan:"5"},{default:s(()=>[l("small",E,[t(e(U),{class:"mr-2 w-5"}),a[4]||(a[4]=w(" No Data Found "))])]),_:1})]),_:1})):(i(!0),F($,{key:2},N((C=e(y))==null?void 0:C.usercategories.categoriesList,(r,b)=>(i(),_(e(d),{key:r.id},{default:s(()=>[t(e(n),null,{default:s(()=>[l("small",null,u(b+1),1)]),_:2},1024),t(e(n),{class:"w-[300px] pr-20"},{default:s(()=>[l("a",{href:"#",onClick:H=>h("user.files",{id:r.encrypted_id})},[l("div",K,[l("div",null,[t(e(v),{class:"h-8 w-8 flex-shrink-0 rounded-full border p-1 text-blue-500",fill:"currentColor"})]),l("div",null,[l("div",z,u(r.category),1)])])],8,I)]),_:2},1024),t(e(n),null,{default:s(()=>[w(u(r.totalFiles),1)]),_:2},1024),t(e(n),null,{default:s(()=>[l("small",null,u(A(r.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]}),_:1})]),_:1})])]),_:1})],64))}});export{te as default};
