import{d as xe,l as Ee,v as Me,u as e,o as i,c as v,n as ue,p as Ie,r as V,q as Ue,s as Te,C as K,a as l,m as ze,w as a,b as s,h,e as o,t as f,f as Q,F as A,i as q,g as w,P as je,j as Be}from"./app-BwfxnBRh.js";import{F as fe,_ as Ke,K as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-DYfbvNJp.js";import{_ as H,a as Qe,b as O,c as R,d as Z,e as G,f as J}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-D8UwES-R.js";import{_ as le,a as ae,b as se,c as re,d as oe,e as ne,f as W}from"./SelectValue.vue_vue_type_script_setup_true_lang-C8eJmB40.js";import{_ as ce,a as me,b as F,c as p,d as pe,e as m,C as ge,P as ye,T as _e}from"./TableHeader.vue_vue_type_script_setup_true_lang-CtTemYBy.js";import{c as Y,a as He,_ as g}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CvooHbdp.js";import{_ as N,a as X}from"./Label.vue_vue_type_script_setup_true_lang-7CIRwA0j.js";import{u as Oe,a as Re}from"./useQuery-i8U5suod.js";import{u as Ze}from"./useForwardExpose-DSeBrvbd.js";import{L as ve}from"./loader-circle-DXr8m3Yh.js";import"./RovingFocusGroup-DWo2MZ64.js";import"./check-CYtqETVl.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Y("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Y("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=Y("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Y("FileTextIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Ye=xe({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(C,{emit:y}){const P=C,x=Ze(P,"modelValue",y,{passive:!0,defaultValue:P.defaultValue});return(I,L)=>Ee((i(),v("textarea",{"onUpdate:modelValue":L[0]||(L[0]=k=>Ie(x)?x.value=k:null),"data-slot":"textarea",class:ue(e(He)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",P.class))},null,2)),[[Me,e(x)]])}}),et={class:"p-6 space-y-6"},tt={class:"flex w-full justify-between items-center"},lt={key:0},at={class:"flex text-md font-bold items-center"},st={class:"grid gap-4 py-4"},rt={class:"grid grid-cols-4 items-center gap-4"},ot={class:"grid gap-4 py-4"},nt={class:"grid grid-cols-4 items-center gap-4"},ut={class:"flex flex-col space-y-1"},it={class:"flex flex-col space-y-1"},dt={class:"flex flex-col space-y-1"},ft={class:"flex flex-col space-y-1"},ct={class:"space-y-3"},mt=["onClick"],pt={class:"flex flex-col space-y-1"},gt={class:"text-center text-green-500 flex items-center justify-center"},yt={class:"text-center text-red-500 flex items-center justify-center"},_t={class:"flex items-center space-x-3"},vt={class:"font-medium"},xt={class:"flex items-center justify-between space-x-4"},bt={class:"text-green-500 flex items-center justify-center"},wt={class:"text-red-500 flex items-center justify-center"},Ct=["href"],kt={class:"text-nowrap"},St={class:"text-nowrap"},$t={class:"text-nowrap"},Vt={class:"text-nowrap"},Ft={key:0},Pt={class:"flex justify-between items-center mt-8"};function Dt(C){const y=new Date(C),P=y.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=y.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return`${P} | ${M}`}function At(C,y=50){return C.length<=y?C:C.slice(0,y).trim()+"..."}const Kt=xe({__name:"Files",props:{id:{}},setup(C){const y=Oe(),P=[{title:"Files",href:"/admin/files"}],M=C,x=V(1),I=V(""),L=V([]),k=V({currentPage:1,lastPage:1,hasMorePages:!1}),be=async()=>(await Be.post("/graphql",{query:`
    query ($id: String!, $page: Int!, $first: Int!) {
      files(id: $id, page: $page, first: $first) {
        categoryName {
          encrypted_id
          category
        }
        authors {
          encrypted_id
          name
        }
        filesListPaginated {
          data {
            encrypted_id
            title
            ordinanceNumber
            municipalStatus
            provincialStatus
            file
            author {
              name
            }
            coAuthors {
              official {
                name
              }
            }
          }
          paginatorInfo {
            currentPage
            lastPage
            total
            perPage
            hasMorePages
          }
        }
        subCategoriesList {
          encrypted_id
          category
          parentID
          created_at
          totalFiles
        }
      }
    }
  `,variables:{id:M.id,page:x.value,first:20}})).data.data,{data:_,isPending:ie,isFetching:ee,isLoading:te}=Re({queryKey:["fetchFiles",x],queryFn:be});Ue(()=>{var d,t;(t=(d=_.value)==null?void 0:d.files)!=null&&t.filesListPaginated&&(L.value=_.value.files.filesListPaginated.data,k.value=_.value.files.filesListPaginated.paginatorInfo)});const de=Te(()=>{const d=I.value.toLowerCase();return L.value.filter(t=>{var b,r,n,u,$;return((b=t.title)==null?void 0:b.toLowerCase().includes(d))||((n=(r=t.ordinanceNumber)==null?void 0:r.toLowerCase())==null?void 0:n.includes(d))||(($=(u=t.author.name)==null?void 0:u.toLowerCase())==null?void 0:$.includes(d))})}),we=()=>{x.value<k.value.lastPage&&x.value++},Ce=()=>{x.value>1&&x.value--},U=V(!1);function ke(d){c.categoryID=d,U.value=!0}const c=K({categoryID:"",municipalStatus:"",title:"",author:"",coauthor:[],file:null}),Se=()=>{c.coauthor.push("")},$e=d=>{c.coauthor.splice(d,1)},Ve=()=>{c.post(route("create.file"),{onSuccess:()=>{S.success("File created and uploaded successfully"),c.reset(),U.value=!1,y.invalidateQueries({queryKey:["fetchFiles"]})},onError:()=>{S.error("Error creating file"),console.error("Error")}})},Fe=async d=>{var u;const t=d.target,b=(u=t.files)==null?void 0:u[0];if(!b)return;const n=2*1024*1024;b.size>n&&(t.value="",S.error("File too large. Please select a smaller file.")),c.file=b,console.log("Selected file:",b)},T=V(!1);function Pe(d){E.id=d,T.value=!0}const E=K({id:"",category:""}),De=()=>{E.post(route("create.subcategory"),{onSuccess:()=>{S.success("Subcategory created successfully"),E.reset(),T.value=!1,y.invalidateQueries({queryKey:["fetchFiles"]})},onError:()=>{S.error("Error creating category"),console.error("Error")}})},z=V(!1);function Ae(d,t){D.id=d,D.category=t,z.value=!0}const D=K({id:"",category:""}),Ne=()=>{D.patch(route("update.subcategory"),{onSuccess:()=>{S.success("Subcategory updated successfully"),D.reset(),z.value=!1,y.invalidateQueries({queryKey:["fetchFiles"]})},onError:()=>{S.error("Error updating category"),console.error("Error")}})},j=V(!1);function he(d){B.id=d,j.value=!0}const B=K({id:""}),qe=()=>{B.delete(route("delete.subcategory"),{onSuccess:()=>{S.success("Subcategory deleted successfully"),B.reset(),j.value=!1,y.invalidateQueries({queryKey:["fetchFiles"]})},onError:()=>{S.error("Deletion Error"),console.error("Error")}})};return(d,t)=>(i(),v(A,null,[l(e(ze),{title:"Files"}),l(Ke,{breadcrumbs:P},{default:a(()=>{var b;return[s("div",et,[s("div",tt,[s("div",null,[!e(te)&&!e(ee)?(i(),v("div",lt,[s("h6",at,[l(e(fe),{class:"h-8 w-8 mr-2 flex-shrink-0 rounded-full border p-1 text-muted-foreground"}),o(" "+f((b=e(_))==null?void 0:b.files.categoryName.category),1)])])):h("",!0)]),l(e(H),{open:T.value,"onUpdate:open":t[2]||(t[2]=r=>T.value=r)},{default:a(()=>[l(e(Qe),{"as-child":""},{default:a(()=>[l(e(g),{onClick:t[0]||(t[0]=r=>{var n;return Pe((n=e(_))==null?void 0:n.files.categoryName.encrypted_id)}),class:"cursor-pointer"},{default:a(()=>t[12]||(t[12]=[o(" + New ")])),_:1})]),_:1}),l(e(O),{class:"sm:max-w-[600px]"},{default:a(()=>[l(e(R),null,{default:a(()=>[l(e(Z),null,{default:a(()=>t[13]||(t[13]=[o("Add Category")])),_:1}),l(e(G),null,{default:a(()=>{var r;return[t[14]||(t[14]=o(" Create a sub-category for ")),s("b",null,f((r=e(_))==null?void 0:r.files.categoryName.category),1)]}),_:1})]),_:1}),s("form",{action:"",onSubmit:Q(De,["prevent"])},[s("div",st,[s("div",rt,[l(e(N),{class:"text-right"},{default:a(()=>t[15]||(t[15]=[o("Category")])),_:1}),l(e(X),{modelValue:e(E).category,"onUpdate:modelValue":t[1]||(t[1]=r=>e(E).category=r),placeholder:"Category Name",class:"col-span-3",required:""},null,8,["modelValue"])])]),l(e(J),null,{default:a(()=>[l(e(g),{type:"submit",class:"cursor-pointer",disabled:e(c).processing},{default:a(()=>t[16]||(t[16]=[o("Save")])),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),l(e(H),{open:z.value,"onUpdate:open":t[4]||(t[4]=r=>z.value=r)},{default:a(()=>[l(e(O),{class:"sm:max-w-[600px]"},{default:a(()=>[l(e(R),null,{default:a(()=>[l(e(Z),null,{default:a(()=>t[17]||(t[17]=[o("Edit Category")])),_:1}),l(e(G),null,{default:a(()=>t[18]||(t[18]=[o(" Edit the details of the selected category ")])),_:1})]),_:1}),s("form",{action:"",onSubmit:Q(Ne,["prevent"])},[s("div",ot,[s("div",nt,[l(e(N),{class:"text-right"},{default:a(()=>t[19]||(t[19]=[o("Category")])),_:1}),l(e(X),{modelValue:e(D).category,"onUpdate:modelValue":t[3]||(t[3]=r=>e(D).category=r),placeholder:"Category Name",class:"col-span-3",required:""},null,8,["modelValue"])])]),l(e(J),null,{default:a(()=>[l(e(g),{type:"submit",class:"cursor-pointer",disabled:e(D).processing},{default:a(()=>t[20]||(t[20]=[o("Save")])),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),l(e(H),{open:j.value,"onUpdate:open":t[5]||(t[5]=r=>j.value=r)},{default:a(()=>[l(e(O),{class:"sm:max-w-[600px]"},{default:a(()=>[l(e(R),null,{default:a(()=>[l(e(Z),null,{default:a(()=>t[21]||(t[21]=[o("Delete Official")])),_:1}),l(e(G),null,{default:a(()=>t[22]||(t[22]=[o(" Are you sure you want to delete this category? This action cannot be undone. ")])),_:1})]),_:1}),s("form",{action:"",onSubmit:Q(qe,["prevent"])},[l(e(J),null,{default:a(()=>[l(e(g),{type:"submit",class:"cursor-pointer",variant:"destructive",disabled:e(B).processing},{default:a(()=>t[23]||(t[23]=[o("Delete")])),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),l(e(H),{open:U.value,"onUpdate:open":t[9]||(t[9]=r=>U.value=r)},{default:a(()=>[l(e(O),{class:"sm:max-w-[800px] w-full"},{default:a(()=>[l(e(R),null,{default:a(()=>[l(e(Z),null,{default:a(()=>t[24]||(t[24]=[o("Add New File")])),_:1}),l(e(G),null,{default:a(()=>{var r;return[t[25]||(t[25]=o(" Create a new file for ")),s("b",null,f((r=e(_))==null?void 0:r.files.categoryName.category),1)]}),_:1})]),_:1}),s("form",{onSubmit:Q(Ve,["prevent"]),class:"space-y-6"},[s("div",ut,[l(e(N),{class:"text-sm font-medium text-gray-700"},{default:a(()=>t[26]||(t[26]=[o("Municipal Status")])),_:1}),l(e(le),{modelValue:e(c).municipalStatus,"onUpdate:modelValue":t[6]||(t[6]=r=>e(c).municipalStatus=r),required:""},{default:a(()=>[l(e(ae),{class:"w-full"},{default:a(()=>[l(e(se),{placeholder:"Select a status"})]),_:1}),l(e(re),null,{default:a(()=>[l(e(oe),null,{default:a(()=>[l(e(ne),null,{default:a(()=>t[27]||(t[27]=[o("Status")])),_:1}),l(e(W),{value:"1"},{default:a(()=>t[28]||(t[28]=[o("Draft Ordinance")])),_:1}),l(e(W),{value:"2"},{default:a(()=>t[29]||(t[29]=[o("Approved Ordinance")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),s("div",it,[l(e(N),{class:"text-sm font-medium text-gray-700"},{default:a(()=>t[30]||(t[30]=[o("Title of Ordinance")])),_:1}),l(e(Ye),{modelValue:e(c).title,"onUpdate:modelValue":t[7]||(t[7]=r=>e(c).title=r),class:"w-full"},null,8,["modelValue"])]),s("div",dt,[l(e(N),{class:"text-sm font-medium text-gray-700"},{default:a(()=>t[31]||(t[31]=[o("Author")])),_:1}),l(e(le),{modelValue:e(c).author,"onUpdate:modelValue":t[8]||(t[8]=r=>e(c).author=r),required:""},{default:a(()=>[l(e(ae),{class:"w-full"},{default:a(()=>[l(e(se),{placeholder:"Select an author"})]),_:1}),l(e(re),null,{default:a(()=>{var r;return[l(e(ne),null,{default:a(()=>t[32]||(t[32]=[o("Authors")])),_:1}),(i(!0),v(A,null,q((r=e(_))==null?void 0:r.files.authors,n=>(i(),w(e(oe),null,{default:a(()=>[l(e(W),{value:n.encrypted_id},{default:a(()=>[o(f(n.name),1)]),_:2},1032,["value"])]),_:2},1024))),256))]}),_:1})]),_:1},8,["modelValue"])]),s("div",ft,[l(e(N),{class:"text-sm font-medium text-gray-700"},{default:a(()=>t[33]||(t[33]=[o("Co Authors")])),_:1}),s("div",ct,[(i(!0),v(A,null,q(e(c).coauthor,(r,n)=>(i(),v("div",{key:n,class:"flex items-center gap-2"},[l(e(le),{modelValue:e(c).coauthor[n],"onUpdate:modelValue":u=>e(c).coauthor[n]=u,required:""},{default:a(()=>[l(e(ae),{class:"w-full"},{default:a(()=>[l(e(se),{placeholder:"Select an author"})]),_:1}),l(e(re),null,{default:a(()=>[l(e(ne),null,{default:a(()=>t[34]||(t[34]=[o("Authors")])),_:1}),l(e(oe),null,{default:a(()=>{var u;return[(i(!0),v(A,null,q((u=e(_))==null?void 0:u.files.authors,$=>(i(),w(e(W),{key:$.encrypted_id,value:$.encrypted_id},{default:a(()=>[o(f($.name),1)]),_:2},1032,["value"]))),128))]}),_:1})]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"]),s("button",{type:"button",onClick:u=>$e(n),class:"text-red-500 hover:text-red-700 text-sm cursor-pointer"}," ✕ ",8,mt)]))),128)),s("button",{type:"button",onClick:Se,class:"text-blue-500 hover:text-blue-700 text-sm cursor-pointer"}," + Add ")])]),s("div",pt,[l(e(N),{class:"text-sm font-medium text-gray-700"},{default:a(()=>t[35]||(t[35]=[o("Upload a File")])),_:1}),l(e(X),{type:"file",class:"col-span-3",onChange:Fe,accept:".pdf",required:""})]),l(e(J),null,{default:a(()=>[l(e(g),{type:"submit",class:"cursor-pointer",disabled:e(c).processing},{default:a(()=>t[36]||(t[36]=[o(" Save ")])),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),l(e(ce),null,{default:a(()=>[l(e(me),null,{default:a(()=>[l(e(F),null,{default:a(()=>[l(e(p),{class:"w-[50px]"},{default:a(()=>t[37]||(t[37]=[s("small",null,"#",-1)])),_:1}),l(e(p),{class:"w-[300px]"},{default:a(()=>t[38]||(t[38]=[s("small",null,"Category",-1)])),_:1}),l(e(p),null,{default:a(()=>t[39]||(t[39]=[s("small",null,"No. of Files",-1)])),_:1}),l(e(p),null,{default:a(()=>t[40]||(t[40]=[s("small",null,"Creation Date",-1)])),_:1}),l(e(p),{class:"text-right"},{default:a(()=>t[41]||(t[41]=[s("small",null,"Actions",-1)])),_:1})]),_:1})]),_:1}),!e(te)&&!e(ee)?(i(),w(e(pe),{key:0},{default:a(()=>{var r,n;return[e(ie)?(i(),w(e(F),{key:0},{default:a(()=>[l(e(m),{colspan:"10",class:"text-center"},{default:a(()=>[s("small",gt,[l(e(ve),{class:"mr-2 w-5"}),t[42]||(t[42]=o(" Loading... "))])]),_:1})]),_:1})):h("",!0),((r=e(_))==null?void 0:r.files.subCategoriesList.length)==0?(i(),w(e(F),{key:1},{default:a(()=>[l(e(m),{colspan:"5"},{default:a(()=>[s("small",yt,[l(e(ge),{class:"mr-2 w-5"}),t[43]||(t[43]=o(" No Data Found "))])]),_:1})]),_:1})):h("",!0),(i(!0),v(A,null,q((n=e(_))==null?void 0:n.files.subCategoriesList,(u,$)=>(i(),w(e(F),{key:u.id},{default:a(()=>[l(e(m),null,{default:a(()=>[s("small",null,f($+1),1)]),_:2},1024),l(e(m),{class:"w-[300px] pr-20"},{default:a(()=>[l(e(je),{href:d.route("admin.files",{id:u.encrypted_id})},{default:a(()=>[s("div",_t,[s("div",null,[l(e(fe),{class:"h-8 w-8 flex-shrink-0 rounded-full border p-1 text-muted-foreground"})]),s("div",null,[s("div",vt,f(u.category),1)])])]),_:2},1032,["href"])]),_:2},1024),l(e(m),null,{default:a(()=>[o(f(u.totalFiles),1)]),_:2},1024),l(e(m),null,{default:a(()=>[s("small",null,f(Dt(u.created_at)),1)]),_:2},1024),l(e(m),{class:"text-right"},{default:a(()=>[l(e(g),{variant:"link",onClick:Le=>Ae(u.encrypted_id,u.category),class:"ml-2 cursor-pointer"},{default:a(()=>[l(e(ye))]),_:2},1032,["onClick"]),l(e(g),{variant:"destructive",onClick:Le=>he(u.encrypted_id),class:"ml-2 cursor-pointer"},{default:a(()=>[l(e(_e))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]}),_:1})):h("",!0)]),_:1}),s("div",xt,[l(e(X),{modelValue:I.value,"onUpdate:modelValue":t[10]||(t[10]=r=>I.value=r),placeholder:"Search... (if no results, go to next page)",class:"w-full max-w-md text-sm"},null,8,["modelValue"]),l(e(g),{onClick:t[11]||(t[11]=r=>{var n;return ke((n=e(_))==null?void 0:n.files.categoryName.encrypted_id)}),class:"cursor-pointer"},{default:a(()=>t[44]||(t[44]=[o(" + New ")])),_:1})]),l(e(ce),null,{default:a(()=>[l(e(me),null,{default:a(()=>[l(e(F),null,{default:a(()=>[l(e(p),{class:"w-[50px]"},{default:a(()=>t[45]||(t[45]=[s("small",null,"#",-1)])),_:1}),l(e(p),{class:"w-[50px]"},{default:a(()=>t[46]||(t[46]=[s("small",null,"File",-1)])),_:1}),l(e(p),{class:"w-[300px]"},{default:a(()=>t[47]||(t[47]=[s("small",null,"Title",-1)])),_:1}),l(e(p),null,{default:a(()=>t[48]||(t[48]=[s("small",null,"Ordinance Number",-1)])),_:1}),l(e(p),null,{default:a(()=>t[49]||(t[49]=[s("small",null,"Author",-1)])),_:1}),l(e(p),null,{default:a(()=>t[50]||(t[50]=[s("small",null,"Mun. Status",-1)])),_:1}),l(e(p),null,{default:a(()=>t[51]||(t[51]=[s("small",null,"Prov. Status",-1)])),_:1}),l(e(p),{class:"text-right"},{default:a(()=>t[52]||(t[52]=[s("small",null,"Actions",-1)])),_:1})]),_:1})]),_:1}),!e(te)&&!e(ee)?(i(),w(e(pe),{key:0},{default:a(()=>[e(ie)?(i(),w(e(F),{key:0},{default:a(()=>[l(e(m),{colspan:"10",class:"text-center"},{default:a(()=>[s("small",bt,[l(e(ve),{class:"mr-2 w-5"}),t[53]||(t[53]=o(" Loading... "))])]),_:1})]),_:1})):de.value.length===0?(i(),w(e(F),{key:1},{default:a(()=>[l(e(m),{colspan:"10",class:"text-center"},{default:a(()=>[s("small",wt,[l(e(ge),{class:"mr-2 w-5"}),t[54]||(t[54]=o(" No Data Found "))])]),_:1})]),_:1})):(i(!0),v(A,{key:2},q(de.value,(r,n)=>(i(),w(e(F),{key:r.encrypted_id},{default:a(()=>[l(e(m),null,{default:a(()=>[s("small",null,f(n+1),1)]),_:2},1024),l(e(m),null,{default:a(()=>[s("a",{href:`/storage/files/${r.file}`,target:"_blank"},[l(e(Xe),{class:"w-5 h-5 text-green-500"})],8,Ct)]),_:2},1024),l(e(m),{class:"pr-5"},{default:a(()=>[s("div",kt,f(At(r.title)),1)]),_:2},1024),l(e(m),null,{default:a(()=>[s("small",St,f(r.ordinanceNumber??"-"),1)]),_:2},1024),l(e(m),{class:"pr-5"},{default:a(()=>[s("div",$t,[s("b",null,f(r.author.name),1)]),t[56]||(t[56]=s("div",null,[s("small",{class:"text-blue-500"},"Co Authors:")],-1)),(i(!0),v(A,null,q(r.coAuthors,u=>(i(),v("div",{key:u.official.name},[s("small",Vt,f(u.official.name),1)]))),128)),r.coAuthors.length==0?(i(),v("div",Ft,t[55]||(t[55]=[s("small",null,"None",-1)]))):h("",!0)]),_:2},1024),l(e(m),null,{default:a(()=>[s("small",{class:ue(r.municipalStatus==1?"text-wrap text-red-500":"text-wrap text-green-500")},f(r.municipalStatus==1?"Draft":"Approved"),3)]),_:2},1024),l(e(m),null,{default:a(()=>[s("small",{class:ue(r.provincialStatus===1?"text-wrap text-red-500":r.provincialStatus===2?"text-wrap text-green-500":"text-wrap text-gray-500")},f(r.provincialStatus===null?"-":r.provincialStatus===1?"Draft":"Approved"),3)]),_:2},1024),l(e(m),{class:"text-right"},{default:a(()=>[l(e(g),{variant:"link",class:"ml-0 cursor-pointer"},{default:a(()=>[l(e(We))]),_:1}),l(e(g),{variant:"link",class:"ml-0 cursor-pointer"},{default:a(()=>[l(e(ye))]),_:1}),l(e(g),{variant:"destructive",class:"ml-0 cursor-pointer"},{default:a(()=>[l(e(_e))]),_:1})]),_:1})]),_:2},1024))),128))]),_:1})):h("",!0)]),_:1}),s("div",Pt,[l(e(g),{disabled:k.value.currentPage<=1,onClick:Ce,class:"cursor-pointer"},{default:a(()=>[l(e(Ge))]),_:1},8,["disabled"]),s("small",null," Pages "+f(k.value.currentPage)+" of "+f(k.value.lastPage),1),l(e(g),{disabled:k.value.currentPage>=k.value.lastPage,onClick:we,class:"cursor-pointer"},{default:a(()=>[l(e(Je))]),_:1},8,["disabled"])])])]}),_:1})],64))}});export{Kt as default};
