import{_ as re}from"./AppLayout.vue_vue_type_script_setup_true_lang-svVkoXIF.js";import{d as w,c,o,n as y,u as e,y as te,a as l,m as oe,w as d,b as t,g as de,h as ce,e as a,t as n,F as Y,i as pe,j as ue}from"./app-Dt1ja_is.js";import{_ as fe,a as xe,b as me,c as ve}from"./CardTitle.vue_vue_type_script_setup_true_lang-J12-q97g.js";import{c as v,a as ie,_ as ge}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DgbvvbyR.js";import{u as ye,a as he}from"./useQuery-DoMVY7Ih.js";import{C as G}from"./circle-minus-631I7rod.js";import"./useForwardExpose-CZomspCA.js";import"./RovingFocusGroup-Dl8OH13T.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=v("Calendar1Icon",[["path",{d:"M11 14h1v4",key:"fy54vd"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=v("CircleCheckBigIcon",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=v("CircleUserRoundIcon",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=v("FileBoxIcon",[["path",{d:"M14.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"16lz6z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 13.1a2 2 0 0 0-1 1.76v3.24a2 2 0 0 0 .97 1.78L6 21.7a2 2 0 0 0 2.03.01L11 19.9a2 2 0 0 0 1-1.76V14.9a2 2 0 0 0-.97-1.78L8 11.3a2 2 0 0 0-2.03-.01Z",key:"99pj1s"}],["path",{d:"M7 17v5",key:"1yj1jh"}],["path",{d:"M11.7 14.2 7 17l-4.7-2.8",key:"1yk8tc"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=v("FileCheckIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=v("UsersRoundIcon",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),ee=w({__name:"CardDescription",props:{class:{}},setup(p){const x=p;return(m,h)=>(o(),c("p",{"data-slot":"card-description",class:y(e(ie)("text-muted-foreground text-sm",x.class))},[te(m.$slots,"default")],2))}}),Fe=w({__name:"CardFooter",props:{class:{}},setup(p){const x=p;return(m,h)=>(o(),c("div",{"data-slot":"card-footer",class:y(e(ie)("flex items-center px-6 [.border-t]:pt-6",x.class))},[te(m.$slots,"default")],2))}}),be={class:"p-6 space-y-6"},ke={class:"mt-6"},De={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Se={key:0},Ce={key:1},Me={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Re={key:0},$e={key:1},Ve={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},qe={class:"font-bold"},Ae={class:"mb-6"},Le={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ne={class:"text-[13px] text-gray-500 ml-10"},Pe={class:"flex items-center gap-2 mb-1"},Be={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2 mt-6"},Ie={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Te={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},je={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},ze={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Oe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ue={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ee={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},He={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Qe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ze=["href"];function f(p){return`${new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`}const lt=w({__name:"View-File",props:{id:{}},setup(p){ye();const x=[{title:"View File",href:"/admin/view-file"}],m=p,h=async()=>(await ue.post("/graphql",{query:`
    query ($id: String!) {
        viewFile(id: $id) {
            file {
                municipalStatus
                provincialStatus
                title
                firstReadingDate
                secondReadingDate
                thirdReadingDate
                ordinanceNumber
                finalTitle
                enactmentDate
                lceapprovalDate
                transmittalDate
                spslapprovalDate
                postStatus
                publishStatus
                file
                author {
                    name
                }
                coAuthors {
                    official {
                        name
                    }
                }
                category {
                    category
                }
            }
        }
    }
  `,variables:{id:m.id}})).data.data,{data:i,isPending:Ke,isFetching:se,isLoading:le}=he({queryKey:["fetchViewedFile"],queryFn:h});return(ae,s)=>(o(),c(Y,null,[l(e(oe),{title:"View File"}),l(re,{breadcrumbs:x},{default:d(()=>[t("div",be,[!e(le)&&!e(se)?(o(),de(e(fe),{key:0,class:"w-full"},{default:d(()=>[l(e(xe),null,{default:d(()=>[l(e(me),null,{default:d(()=>{var r,g;return[s[0]||(s[0]=t("span",{class:"text-[13px] mr-2"},"Ordinance Number: ",-1)),a(n(((r=e(i))==null?void 0:r.viewFile.file.ordinanceNumber)!=null?(g=e(i))==null?void 0:g.viewFile.file.ordinanceNumber:"--"),1)]}),_:1}),l(e(ee),{class:"mt-2"},{default:d(()=>{var r;return[a(n((r=e(i))==null?void 0:r.viewFile.file.title),1)]}),_:1}),l(e(ee),{class:"font-bold text-blue-500"},{default:d(()=>{var r;return[a(n((r=e(i))==null?void 0:r.viewFile.file.category.category),1)]}),_:1})]),_:1}),l(e(ve),null,{default:d(()=>{var r,g,_,F,b,k,D,S,C,M,R,$,V,q,A,L,N,P,B,I,T,j,z,O,U,E,H,Q,Z,K;return[s[16]||(s[16]=t("hr",null,null,-1)),t("div",ke,[t("div",De,[((r=e(i))==null?void 0:r.viewFile.file.municipalStatus)==1?(o(),c("div",Se,[l(e(G),{class:"w-5 h-5 text-red-500"})])):(o(),c("div",Ce,[l(e(J),{class:"w-5 h-5 text-green-500"})])),s[1]||(s[1]=a(" Municipal Status: ")),t("span",{class:y(((g=e(i))==null?void 0:g.viewFile.file.municipalStatus)==1?"text-red-500":"text-green-500")},n(((_=e(i))==null?void 0:_.viewFile.file.municipalStatus)==1?"Draft Ordinance":"Approved Ordinance"),3)]),t("div",Me,[((F=e(i))==null?void 0:F.viewFile.file.provincialStatus)==null||((b=e(i))==null?void 0:b.viewFile.file.provincialStatus)==1?(o(),c("div",Re,[l(e(G),{class:"w-5 h-5 text-red-500"})])):(o(),c("div",$e,[l(e(J),{class:"w-5 h-5 text-green-500"})])),s[2]||(s[2]=a(" Provincial Status: ")),t("span",{class:y([((k=e(i))==null?void 0:k.viewFile.file.provincialStatus)==1?"text-red-500":((D=e(i))==null?void 0:D.viewFile.file.provincialStatus)==2?"text-green-500":"text-gray-500"])},n(((S=e(i))==null?void 0:S.viewFile.file.provincialStatus)==1?"Disapproved":((C=e(i))==null?void 0:C.viewFile.file.provincialStatus)==2?"Approved Ordinance":"No Status Yet"),3)]),t("div",Ve,[t("div",null,[l(e(W),{class:"w-5 h-5 text-blue-500"})]),s[3]||(s[3]=a(" Author: ")),t("span",qe,n((M=e(i))==null?void 0:M.viewFile.file.author.name),1)]),t("div",Ae,[t("div",Le,[t("div",null,[l(e(_e),{class:"w-5 h-5 text-blue-500"})]),s[4]||(s[4]=a(" Co-Authors: ")),t("span",null,n(((R=e(i))==null?void 0:R.viewFile.file.coAuthors)==""?"None":""),1)]),(o(!0),c(Y,null,pe(($=e(i))==null?void 0:$.viewFile.file.coAuthors,(ne,Ye)=>(o(),c("div",Ne,[t("div",Pe,[l(e(W),{class:"w-4 h-4"}),a(" "+n(ne.official.name),1)])]))),256))]),s[15]||(s[15]=t("hr",null,null,-1)),t("div",Be,[t("div",null,[l(e(we),{class:"w-5 h-5 text-green-500"})]),s[5]||(s[5]=a(" Final Title: ")),t("span",null,n(((V=e(i))==null?void 0:V.viewFile.file.finalTitle)!=null?(q=e(i))==null?void 0:q.viewFile.file.finalTitle:"-"),1)]),t("div",Ie,[t("div",null,[l(e(u),{class:"w-5 h-5 text-green-500"})]),s[6]||(s[6]=a(" 1st Reading: ")),t("span",null,n(((A=e(i))==null?void 0:A.viewFile.file.firstReadingDate)!=null?f((L=e(i))==null?void 0:L.viewFile.file.firstReadingDate):"-"),1)]),t("div",Te,[t("div",null,[l(e(u),{class:"w-5 h-5 text-green-500"})]),s[7]||(s[7]=a(" 2nd Reading: ")),t("span",null,n(((N=e(i))==null?void 0:N.viewFile.file.secondReadingDate)!=null?f((P=e(i))==null?void 0:P.viewFile.file.secondReadingDate):"-"),1)]),t("div",je,[t("div",null,[l(e(u),{class:"w-5 h-5 text-green-500"})]),s[8]||(s[8]=a(" 3rd Reading: ")),t("span",null,n(((B=e(i))==null?void 0:B.viewFile.file.thirdReadingDate)!=null?f((I=e(i))==null?void 0:I.viewFile.file.thirdReadingDate):"-"),1)]),t("div",ze,[t("div",null,[l(e(u),{class:"w-5 h-5 text-green-500"})]),s[9]||(s[9]=a(" Enactment: ")),t("span",null,n(((T=e(i))==null?void 0:T.viewFile.file.enactmentDate)!=null?f((j=e(i))==null?void 0:j.viewFile.file.enactmentDate):"-"),1)]),t("div",Oe,[t("div",null,[l(e(u),{class:"w-5 h-5 text-green-500"})]),s[10]||(s[10]=a(" LCE Approval: ")),t("span",null,n(((z=e(i))==null?void 0:z.viewFile.file.lceapprovalDate)!=null?f((O=e(i))==null?void 0:O.viewFile.file.lceapprovalDate):"-"),1)]),t("div",Ue,[t("div",null,[l(e(u),{class:"w-5 h-5 text-green-500"})]),s[11]||(s[11]=a(" Transmittal: ")),t("span",null,n(((U=e(i))==null?void 0:U.viewFile.file.transmittalDate)!=null?f((E=e(i))==null?void 0:E.viewFile.file.transmittalDate):"-"),1)]),t("div",Ee,[t("div",null,[l(e(u),{class:"w-5 h-5 text-green-500"})]),s[12]||(s[12]=a(" SPSL Approval: ")),t("span",null,n(((H=e(i))==null?void 0:H.viewFile.file.spslapprovalDate)!=null?f((Q=e(i))==null?void 0:Q.viewFile.file.spslapprovalDate):"-"),1)]),t("div",He,[t("div",null,[l(e(X),{class:"w-5 h-5 text-green-500"})]),s[13]||(s[13]=a(" Post Status: ")),t("span",null,n(((Z=e(i))==null?void 0:Z.viewFile.file.postStatus)==1?"Posted":"-"),1)]),t("div",Qe,[t("div",null,[l(e(X),{class:"w-5 h-5 text-green-500"})]),s[14]||(s[14]=a(" Publish Status: ")),t("span",null,n(((K=e(i))==null?void 0:K.viewFile.file.publishStatus)==1?"Published":"-"),1)])])]}),_:1}),l(e(Fe),{class:"flex justify-between px-6 pb-6"},{default:d(()=>[l(e(ge),{class:"text-[12px]"},{default:d(()=>{var r;return[t("a",{href:`/storage/files/${(r=e(i))==null?void 0:r.viewFile.file.file}`,target:"_blank"},"Open PDF File",8,Ze)]}),_:1})]),_:1})]),_:1})):ce("",!0)])]),_:1})],64))}});export{lt as default};
