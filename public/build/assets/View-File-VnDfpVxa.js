import{_ as ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-9TLh6anP.js";import{d as ne,c as u,o as d,a as s,u as e,m as re,w as o,b as t,g as K,e as a,t as n,n as Y,F as G,i as oe,j as de}from"./app-GRqBZMjc.js";import{_ as H,a as I,b as ue,d as J,c as pe}from"./CardTitle.vue_vue_type_script_setup_true_lang-gSJLn6Rx.js";import{_ as fe,C as W,a as ce}from"./SkeletonBox.vue_vue_type_script_setup_true_lang-NbEyb4Va.js";import{_ as xe}from"./index-vWOFmHOK.js";import{u as me,a as ve,C as X}from"./Skeleton.vue_vue_type_script_setup_true_lang-DzjwEdNu.js";import{C as Z,U as ge,F as we,a as p,b as ee}from"./users-round-B1afLvH4.js";import"./NavFooter.vue_vue_type_script_setup_true_lang-BAyLt7ny.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CgS9jI4z.js";const _e={class:"p-4 space-y-6"},Fe={class:"mt-6"},ye={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},he={key:0},be={key:1},De={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Se={key:0},Ce={key:1},Re={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},$e={class:"font-bold"},ke={class:"mb-6"},Pe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ae={class:"text-[13px] text-gray-500 ml-10"},Ne={class:"flex items-center gap-2 mb-1"},Ve={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-3 mt-6"},qe={class:"text-gray-500 text-[13px]"},Be={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Te={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Le={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Oe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ue={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ee={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},je={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Me={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Qe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},ze=["href"];function f(x){return`${new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`}const lt=ne({__name:"View-File",props:{id:{}},setup(x){const m=x;me();const v=[{title:"View File",href:"/admin/view-file/"+m.id}],te=async()=>(await de.post("/graphql",{query:`
    query ($id: String!) {
        viewFile(id: $id) {
            file {
                municipalStatus
                provincialStatus
                title
                firstReadingDate
                secondReadingDate
                thirdReadingDate
                ordinanceNumber
                finalTitle
                enactmentDate
                lceapprovalDate
                transmittalDate
                spslapprovalDate
                postStatus
                publishStatus
                file
                author {
                    name
                }
                coAuthors {
                    official {
                        name
                    }
                }
                category {
                    category
                }
            }
        }
    }
  `,variables:{id:m.id}})).data.data,{data:l,isPending:Ke,isFetching:ie,isLoading:Ye}=ve({queryKey:["fetchViewedFile"],queryFn:te});return(le,i)=>(d(),u(G,null,[s(e(re),{title:"View File"}),s(ae,{breadcrumbs:v},{default:o(()=>[t("div",_e,[e(ie)?(d(),K(e(H),{key:0,class:"w-full shadow-none outline-none"},{default:o(()=>[s(e(I),null,{default:o(()=>[s(fe)]),_:1})]),_:1})):(d(),K(e(H),{key:1,class:"w-full shadow-none outline-none"},{default:o(()=>[s(e(I),null,{default:o(()=>[s(e(ue),null,{default:o(()=>{var r,c;return[i[0]||(i[0]=t("span",{class:"text-[13px] mr-2"},"Ordinance Number: ",-1)),a(n(((r=e(l))==null?void 0:r.viewFile.file.ordinanceNumber)!=null?(c=e(l))==null?void 0:c.viewFile.file.ordinanceNumber:"--"),1)]}),_:1}),s(e(J),{class:"mt-2"},{default:o(()=>{var r;return[a(n((r=e(l))==null?void 0:r.viewFile.file.title),1)]}),_:1}),s(e(J),{class:"font-bold text-blue-500"},{default:o(()=>{var r;return[a(n((r=e(l))==null?void 0:r.viewFile.file.category.category),1)]}),_:1})]),_:1}),s(e(pe),null,{default:o(()=>{var r,c,g,w,_,F,y,h,b,D,S,C,R,$,k,P,A,N,V,q,B,T,L,O,U,E,j,M,Q,z;return[i[17]||(i[17]=t("hr",null,null,-1)),t("div",Fe,[t("div",ye,[((r=e(l))==null?void 0:r.viewFile.file.municipalStatus)==1?(d(),u("div",he,[s(e(X),{class:"w-5 h-5 text-red-500"})])):(d(),u("div",be,[s(e(W),{class:"w-5 h-5 text-green-500"})])),i[1]||(i[1]=a(" Municipal Status: ")),t("span",{class:Y(((c=e(l))==null?void 0:c.viewFile.file.municipalStatus)==1?"text-red-500":"text-green-500")},n(((g=e(l))==null?void 0:g.viewFile.file.municipalStatus)==1?"Draft Ordinance":"Approved Ordinance"),3)]),t("div",De,[((w=e(l))==null?void 0:w.viewFile.file.provincialStatus)==null||((_=e(l))==null?void 0:_.viewFile.file.provincialStatus)==1?(d(),u("div",Se,[s(e(X),{class:"w-5 h-5 text-red-500"})])):(d(),u("div",Ce,[s(e(W),{class:"w-5 h-5 text-green-500"})])),i[2]||(i[2]=a(" Provincial Status: ")),t("span",{class:Y([((F=e(l))==null?void 0:F.viewFile.file.provincialStatus)==1?"text-red-500":((y=e(l))==null?void 0:y.viewFile.file.provincialStatus)==2?"text-green-500":"text-gray-500"])},n(((h=e(l))==null?void 0:h.viewFile.file.provincialStatus)==1?"Disapproved":((b=e(l))==null?void 0:b.viewFile.file.provincialStatus)==2?"Approved Ordinance":"No Status Yet"),3)]),t("div",Re,[t("div",null,[s(e(Z),{class:"w-5 h-5 text-blue-500"})]),i[3]||(i[3]=a(" Author: ")),t("span",$e,n((D=e(l))==null?void 0:D.viewFile.file.author.name),1)]),t("div",ke,[t("div",Pe,[t("div",null,[s(e(ge),{class:"w-5 h-5 text-blue-500"})]),i[4]||(i[4]=a(" Co-Authors: ")),t("span",null,n(((S=e(l))==null?void 0:S.viewFile.file.coAuthors)==""?"None":""),1)]),(d(!0),u(G,null,oe((C=e(l))==null?void 0:C.viewFile.file.coAuthors,(se,Ge)=>(d(),u("div",Ae,[t("div",Ne,[s(e(Z),{class:"w-4 h-4"}),a(" "+n(se.official.name),1)])]))),256))]),i[15]||(i[15]=t("hr",null,null,-1)),t("div",Ve,[t("div",null,[s(e(we),{class:"w-5 h-5 text-green-500"})]),i[5]||(i[5]=a(" Final Title: "))]),t("div",qe,n(((R=e(l))==null?void 0:R.viewFile.file.finalTitle)!=null?($=e(l))==null?void 0:$.viewFile.file.finalTitle:"-"),1),i[16]||(i[16]=t("hr",{class:"my-4"},null,-1)),t("div",Be,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[6]||(i[6]=a(" 1st Reading: ")),t("span",null,n(((k=e(l))==null?void 0:k.viewFile.file.firstReadingDate)!=null?f((P=e(l))==null?void 0:P.viewFile.file.firstReadingDate):"-"),1)]),t("div",Te,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[7]||(i[7]=a(" 2nd Reading: ")),t("span",null,n(((A=e(l))==null?void 0:A.viewFile.file.secondReadingDate)!=null?f((N=e(l))==null?void 0:N.viewFile.file.secondReadingDate):"-"),1)]),t("div",Le,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[8]||(i[8]=a(" 3rd Reading: ")),t("span",null,n(((V=e(l))==null?void 0:V.viewFile.file.thirdReadingDate)!=null?f((q=e(l))==null?void 0:q.viewFile.file.thirdReadingDate):"-"),1)]),t("div",Oe,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[9]||(i[9]=a(" Enactment: ")),t("span",null,n(((B=e(l))==null?void 0:B.viewFile.file.enactmentDate)!=null?f((T=e(l))==null?void 0:T.viewFile.file.enactmentDate):"-"),1)]),t("div",Ue,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[10]||(i[10]=a(" LCE Approval: ")),t("span",null,n(((L=e(l))==null?void 0:L.viewFile.file.lceapprovalDate)!=null?f((O=e(l))==null?void 0:O.viewFile.file.lceapprovalDate):"-"),1)]),t("div",Ee,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[11]||(i[11]=a(" Transmittal: ")),t("span",null,n(((U=e(l))==null?void 0:U.viewFile.file.transmittalDate)!=null?f((E=e(l))==null?void 0:E.viewFile.file.transmittalDate):"-"),1)]),t("div",je,[t("div",null,[s(e(p),{class:"w-5 h-5 text-green-500"})]),i[12]||(i[12]=a(" SPSL Approval: ")),t("span",null,n(((j=e(l))==null?void 0:j.viewFile.file.spslapprovalDate)!=null?f((M=e(l))==null?void 0:M.viewFile.file.spslapprovalDate):"-"),1)]),t("div",Me,[t("div",null,[s(e(ee),{class:"w-5 h-5 text-green-500"})]),i[13]||(i[13]=a(" Post Status: ")),t("span",null,n(((Q=e(l))==null?void 0:Q.viewFile.file.postStatus)==1?"Posted":"-"),1)]),t("div",Qe,[t("div",null,[s(e(ee),{class:"w-5 h-5 text-green-500"})]),i[14]||(i[14]=a(" Publish Status: ")),t("span",null,n(((z=e(l))==null?void 0:z.viewFile.file.publishStatus)==1?"Published":"-"),1)])])]}),_:1}),s(e(ce),{class:"flex justify-between px-6 pb-6"},{default:o(()=>[s(e(xe),{class:"text-[12px]"},{default:o(()=>{var r;return[t("a",{href:`/storage/files/${(r=e(l))==null?void 0:r.viewFile.file.file}`,target:"_blank"},"Open PDF File",8,ze)]}),_:1})]),_:1})]),_:1}))])]),_:1})],64))}});export{lt as default};
