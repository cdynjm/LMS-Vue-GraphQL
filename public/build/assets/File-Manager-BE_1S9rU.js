import{_ as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-DI3RdprT.js";import{d as D,c as w,o as i,a as t,u as e,m as q,w as s,b as a,g as m,e as C,F as $,i as v,t as u,P as L,j as N}from"./app-CcRrdmyW.js";import{_ as P,a as S,b as d,c as f,d as B,e as r,f as M}from"./Skeleton.vue_vue_type_script_setup_true_lang-BlzBSkCP.js";import{u as j,a as T,C as V}from"./Skeleton.vue_vue_type_script_setup_true_lang-ez4uci9I.js";import{F as Q}from"./NavFooter.vue_vue_type_script_setup_true_lang-DJVGY2Tk.js";import"./index-Bl_V7f6V.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-TKp6VV-O.js";const U={class:"p-6 space-y-6"},E={class:"text-center text-red-500 flex items-center justify-center"},I={class:"flex items-center space-x-3"},K={class:"font-medium"};function z(_){const o=new Date(_),c=o.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=o.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return`${c} | ${p}`}const Y=D({__name:"File-Manager",setup(_){j();const o=[{title:"File Manager",href:"/user/file-manager"}],c=async()=>(await N.post("/graphql",{query:`
    query {
      usercategories {
        categoriesList {
            encrypted_id
            category
            parentID
            created_at
            totalFiles
        }
      }
    }
  `})).data.data,{isPending:p,error:A,data:g,isFetching:h}=T({queryKey:["fetchCategories"],queryFn:c});return(y,l)=>(i(),w($,null,[t(e(q),{title:"File Manager"}),t(k,{breadcrumbs:o},{default:s(()=>[a("div",U,[l[5]||(l[5]=a("div",{class:"flex w-full justify-between items-center"},[a("h6",{class:"flex-1 text-md font-bold"},"Categories")],-1)),t(e(P),null,{default:s(()=>[t(e(S),null,{default:s(()=>[t(e(d),null,{default:s(()=>[t(e(f),{class:"w-[50px]"},{default:s(()=>l[0]||(l[0]=[a("small",null,"#",-1)])),_:1}),t(e(f),{class:"w-[300px]"},{default:s(()=>l[1]||(l[1]=[a("small",null,"Category",-1)])),_:1}),t(e(f),null,{default:s(()=>l[2]||(l[2]=[a("small",null,"No. of Files",-1)])),_:1}),t(e(f),null,{default:s(()=>l[3]||(l[3]=[a("small",null,"Creation Date",-1)])),_:1})]),_:1})]),_:1}),t(e(B),null,{default:s(()=>{var x,F;return[e(h)?(i(),m(e(d),{key:0},{default:s(()=>[t(e(r),{colspan:"10",class:"text-center"},{default:s(()=>[t(M)]),_:1})]),_:1})):((x=e(g))==null?void 0:x.usercategories.categoriesList.length)==0?(i(),m(e(d),{key:1},{default:s(()=>[t(e(r),{colspan:"5"},{default:s(()=>[a("small",E,[t(e(V),{class:"mr-2 w-5"}),l[4]||(l[4]=C(" No Data Found "))])]),_:1})]),_:1})):(i(!0),w($,{key:2},v((F=e(g))==null?void 0:F.usercategories.categoriesList,(n,b)=>(i(),m(e(d),{key:n.id},{default:s(()=>[t(e(r),null,{default:s(()=>[a("small",null,u(b+1),1)]),_:2},1024),t(e(r),{class:"w-[300px] pr-20"},{default:s(()=>[t(e(L),{href:y.route("user.files",{id:n.encrypted_id})},{default:s(()=>[a("div",I,[a("div",null,[t(e(Q),{class:"h-8 w-8 flex-shrink-0 rounded-full border p-1 text-blue-500",fill:"currentColor"})]),a("div",null,[a("div",K,u(n.category),1)])])]),_:2},1032,["href"])]),_:2},1024),t(e(r),null,{default:s(()=>[C(u(n.totalFiles),1)]),_:2},1024),t(e(r),null,{default:s(()=>[a("small",null,u(z(n.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]}),_:1})]),_:1})])]),_:1})],64))}});export{Y as default};
