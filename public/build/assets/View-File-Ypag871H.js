import{_ as oe}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bkv1_C0t.js";import{d as _,c,o as d,n as g,u as e,y as de,F as y,b as t,a as i,m as ce,w as o,g as J,e as a,t as n,h as pe,i as ue}from"./app-BLASXCO6.js";import{_ as W,a as X,b as fe}from"./CardHeader.vue_vue_type_script_setup_true_lang-BmFqWtNW.js";import{_ as ee}from"./CardDescription.vue_vue_type_script_setup_true_lang-BLdc2hgB.js";import{c as v,a as xe,_ as me}from"./index-CAXxJZ2B.js";import{_ as ve}from"./CardTitle.vue_vue_type_script_setup_true_lang-CZbaG1nl.js";import{_ as m,u as he,a as we}from"./Skeleton.vue_vue_type_script_setup_true_lang-CvHEk0s1.js";import{C as te}from"./circle-minus-DRw9kFtQ.js";import"./NavFooter.vue_vue_type_script_setup_true_lang-chHT-hHQ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BTalJwBX.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=v("Calendar1Icon",[["path",{d:"M11 14h1v4",key:"fy54vd"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=v("CircleCheckBigIcon",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=v("CircleUserRoundIcon",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=v("FileBoxIcon",[["path",{d:"M14.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"16lz6z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 13.1a2 2 0 0 0-1 1.76v3.24a2 2 0 0 0 .97 1.78L6 21.7a2 2 0 0 0 2.03.01L11 19.9a2 2 0 0 0 1-1.76V14.9a2 2 0 0 0-.97-1.78L8 11.3a2 2 0 0 0-2.03-.01Z",key:"99pj1s"}],["path",{d:"M7 17v5",key:"1yj1jh"}],["path",{d:"M11.7 14.2 7 17l-4.7-2.8",key:"1yk8tc"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=v("FileCheckIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=v("UsersRoundIcon",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),_e=_({__name:"CardFooter",props:{class:{}},setup(f){const x=f;return(h,F)=>(d(),c("div",{"data-slot":"card-footer",class:g(e(xe)("flex items-center px-6 [.border-t]:pt-6",x.class))},[de(h.$slots,"default")],2))}}),Fe={class:"flex items-center space-x-4 w-full min-w-0"},be={class:"space-y-2 w-full"},ke={class:"flex flex-col space-y-3 w-full"},De={class:"space-y-2 w-full"},Se=_({__name:"SkeletonBox",setup(f){return(x,h)=>(d(),c(y,null,[t("div",Fe,[i(e(m),{class:"h-12 w-12 rounded-full shrink-0"}),t("div",be,[i(e(m),{class:"h-4 w-full"}),i(e(m),{class:"h-4 w-5/6"})])]),t("div",ke,[i(e(m),{class:"h-[120px] w-full rounded-xl"}),t("div",De,[i(e(m),{class:"h-4 w-full"}),i(e(m),{class:"h-4 w-5/6"})])])],64))}}),Ce={class:"p-6 space-y-6"},$e={class:"mt-6"},Me={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Re={key:0},qe={key:1},Ve={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ae={key:0},Le={key:1},Pe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Be={class:"font-bold"},Ne={class:"mb-6"},Ie={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Te={class:"text-[13px] text-gray-500 ml-10"},ze={class:"flex items-center gap-2 mb-1"},Oe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-3 mt-6"},Ue={class:"text-gray-500 text-[13px]"},je={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ee={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},He={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Qe={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ze={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ke={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ye={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Ge={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},Je={class:"text-gray-500 text-[13px] flex items-center gap-2 mb-2"},We=["href"];function u(f){return`${new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`}const ut=_({__name:"View-File",props:{id:{}},setup(f){const x=f;he();const h=[{title:"View File",href:"/admin/view-file/"+x.id}],F=async()=>(await ue.post("/graphql",{query:`
    query ($id: String!) {
        viewFile(id: $id) {
            file {
                municipalStatus
                provincialStatus
                title
                firstReadingDate
                secondReadingDate
                thirdReadingDate
                ordinanceNumber
                finalTitle
                enactmentDate
                lceapprovalDate
                transmittalDate
                spslapprovalDate
                postStatus
                publishStatus
                file
                author {
                    name
                }
                coAuthors {
                    official {
                        name
                    }
                }
                category {
                    category
                }
            }
        }
    }
  `,variables:{id:x.id}})).data.data,{data:s,isPending:Xe,isFetching:ae,isLoading:et}=we({queryKey:["fetchViewedFile"],queryFn:F});return(ne,l)=>(d(),c(y,null,[i(e(ce),{title:"View File"}),i(oe,{breadcrumbs:h},{default:o(()=>[t("div",Ce,[e(ae)?(d(),J(e(W),{key:0,class:"w-full shadow-none outline-none"},{default:o(()=>[i(e(X),null,{default:o(()=>[i(Se)]),_:1})]),_:1})):(d(),J(e(W),{key:1,class:"w-full shadow-none outline-none"},{default:o(()=>[i(e(X),null,{default:o(()=>[i(e(ve),null,{default:o(()=>{var r,w;return[l[0]||(l[0]=t("span",{class:"text-[13px] mr-2"},"Ordinance Number: ",-1)),a(n(((r=e(s))==null?void 0:r.viewFile.file.ordinanceNumber)!=null?(w=e(s))==null?void 0:w.viewFile.file.ordinanceNumber:"--"),1)]}),_:1}),i(e(ee),{class:"mt-2"},{default:o(()=>{var r;return[a(n((r=e(s))==null?void 0:r.viewFile.file.title),1)]}),_:1}),i(e(ee),{class:"font-bold text-blue-500"},{default:o(()=>{var r;return[a(n((r=e(s))==null?void 0:r.viewFile.file.category.category),1)]}),_:1})]),_:1}),i(e(fe),null,{default:o(()=>{var r,w,b,k,D,S,C,$,M,R,q,V,A,L,P,B,N,I,T,z,O,U,j,E,H,Q,Z,K,Y,G;return[l[17]||(l[17]=t("hr",null,null,-1)),t("div",$e,[t("div",Me,[((r=e(s))==null?void 0:r.viewFile.file.municipalStatus)==1?(d(),c("div",Re,[i(e(te),{class:"w-5 h-5 text-red-500"})])):(d(),c("div",qe,[i(e(le),{class:"w-5 h-5 text-green-500"})])),l[1]||(l[1]=a(" Municipal Status: ")),t("span",{class:g(((w=e(s))==null?void 0:w.viewFile.file.municipalStatus)==1?"text-red-500":"text-green-500")},n(((b=e(s))==null?void 0:b.viewFile.file.municipalStatus)==1?"Draft Ordinance":"Approved Ordinance"),3)]),t("div",Ve,[((k=e(s))==null?void 0:k.viewFile.file.provincialStatus)==null||((D=e(s))==null?void 0:D.viewFile.file.provincialStatus)==1?(d(),c("div",Ae,[i(e(te),{class:"w-5 h-5 text-red-500"})])):(d(),c("div",Le,[i(e(le),{class:"w-5 h-5 text-green-500"})])),l[2]||(l[2]=a(" Provincial Status: ")),t("span",{class:g([((S=e(s))==null?void 0:S.viewFile.file.provincialStatus)==1?"text-red-500":((C=e(s))==null?void 0:C.viewFile.file.provincialStatus)==2?"text-green-500":"text-gray-500"])},n((($=e(s))==null?void 0:$.viewFile.file.provincialStatus)==1?"Disapproved":((M=e(s))==null?void 0:M.viewFile.file.provincialStatus)==2?"Approved Ordinance":"No Status Yet"),3)]),t("div",Pe,[t("div",null,[i(e(se),{class:"w-5 h-5 text-blue-500"})]),l[3]||(l[3]=a(" Author: ")),t("span",Be,n((R=e(s))==null?void 0:R.viewFile.file.author.name),1)]),t("div",Ne,[t("div",Ie,[t("div",null,[i(e(ye),{class:"w-5 h-5 text-blue-500"})]),l[4]||(l[4]=a(" Co-Authors: ")),t("span",null,n(((q=e(s))==null?void 0:q.viewFile.file.coAuthors)==""?"None":""),1)]),(d(!0),c(y,null,pe((V=e(s))==null?void 0:V.viewFile.file.coAuthors,(re,tt)=>(d(),c("div",Te,[t("div",ze,[i(e(se),{class:"w-4 h-4"}),a(" "+n(re.official.name),1)])]))),256))]),l[15]||(l[15]=t("hr",null,null,-1)),t("div",Oe,[t("div",null,[i(e(ge),{class:"w-5 h-5 text-green-500"})]),l[5]||(l[5]=a(" Final Title: "))]),t("div",Ue,n(((A=e(s))==null?void 0:A.viewFile.file.finalTitle)!=null?(L=e(s))==null?void 0:L.viewFile.file.finalTitle:"-"),1),l[16]||(l[16]=t("hr",{class:"my-4"},null,-1)),t("div",je,[t("div",null,[i(e(p),{class:"w-5 h-5 text-green-500"})]),l[6]||(l[6]=a(" 1st Reading: ")),t("span",null,n(((P=e(s))==null?void 0:P.viewFile.file.firstReadingDate)!=null?u((B=e(s))==null?void 0:B.viewFile.file.firstReadingDate):"-"),1)]),t("div",Ee,[t("div",null,[i(e(p),{class:"w-5 h-5 text-green-500"})]),l[7]||(l[7]=a(" 2nd Reading: ")),t("span",null,n(((N=e(s))==null?void 0:N.viewFile.file.secondReadingDate)!=null?u((I=e(s))==null?void 0:I.viewFile.file.secondReadingDate):"-"),1)]),t("div",He,[t("div",null,[i(e(p),{class:"w-5 h-5 text-green-500"})]),l[8]||(l[8]=a(" 3rd Reading: ")),t("span",null,n(((T=e(s))==null?void 0:T.viewFile.file.thirdReadingDate)!=null?u((z=e(s))==null?void 0:z.viewFile.file.thirdReadingDate):"-"),1)]),t("div",Qe,[t("div",null,[i(e(p),{class:"w-5 h-5 text-green-500"})]),l[9]||(l[9]=a(" Enactment: ")),t("span",null,n(((O=e(s))==null?void 0:O.viewFile.file.enactmentDate)!=null?u((U=e(s))==null?void 0:U.viewFile.file.enactmentDate):"-"),1)]),t("div",Ze,[t("div",null,[i(e(p),{class:"w-5 h-5 text-green-500"})]),l[10]||(l[10]=a(" LCE Approval: ")),t("span",null,n(((j=e(s))==null?void 0:j.viewFile.file.lceapprovalDate)!=null?u((E=e(s))==null?void 0:E.viewFile.file.lceapprovalDate):"-"),1)]),t("div",Ke,[t("div",null,[i(e(p),{class:"w-5 h-5 text-green-500"})]),l[11]||(l[11]=a(" Transmittal: ")),t("span",null,n(((H=e(s))==null?void 0:H.viewFile.file.transmittalDate)!=null?u((Q=e(s))==null?void 0:Q.viewFile.file.transmittalDate):"-"),1)]),t("div",Ye,[t("div",null,[i(e(p),{class:"w-5 h-5 text-green-500"})]),l[12]||(l[12]=a(" SPSL Approval: ")),t("span",null,n(((Z=e(s))==null?void 0:Z.viewFile.file.spslapprovalDate)!=null?u((K=e(s))==null?void 0:K.viewFile.file.spslapprovalDate):"-"),1)]),t("div",Ge,[t("div",null,[i(e(ie),{class:"w-5 h-5 text-green-500"})]),l[13]||(l[13]=a(" Post Status: ")),t("span",null,n(((Y=e(s))==null?void 0:Y.viewFile.file.postStatus)==1?"Posted":"-"),1)]),t("div",Je,[t("div",null,[i(e(ie),{class:"w-5 h-5 text-green-500"})]),l[14]||(l[14]=a(" Publish Status: ")),t("span",null,n(((G=e(s))==null?void 0:G.viewFile.file.publishStatus)==1?"Published":"-"),1)])])]}),_:1}),i(e(_e),{class:"flex justify-between px-6 pb-6"},{default:o(()=>[i(e(me),{class:"text-[12px]"},{default:o(()=>{var r;return[t("a",{href:`/storage/files/${(r=e(s))==null?void 0:r.viewFile.file.file}`,target:"_blank"},"Open PDF File",8,We)]}),_:1})]),_:1})]),_:1}))])]),_:1})],64))}});export{ut as default};
